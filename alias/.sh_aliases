# ---------
# COREUTILS
# ---------

alias cat="bat \
    --style='changes,numbers,snip' \
    --set-terminal-title \
    --theme=base16"

# ls
alias ls="eza \
    --grid \
    --across \
    --group-directories-first \
    --icons=auto \
    --hyperlink"

alias la="ls --all"

alias ll="eza \
    --group-directories-first \
    --icons=auto \
    --hyperlink \
    --all \
    --long \
    --header \
    --created \
    --modified \
    --smart-group \
    --git \
    --mounts"

alias tree="eza \
    --tree \
    --level 2 \
    --icons=auto \
    --hyperlink"

alias du="dust --reverse"
alias df="dysk --units=binary"
alias cp="cpg --progress-bar"
alias mv="mvg --progress-bar"



# ---------
# SYSTEM
# ---------

# grub
alias update-grub="grub-mkconfig -o /boot/grub/grub.cfg"

# clipboard
alias clip="xclip -selection clipboard"


# yays, yayq, and yayr, for easily inStalling, Querying, and Removing Arch/AUR
# packages; mainly stolen and adapted from Omarchy and ChrisTitusTech
# TODO: PKGBUILD only if AUR package
alias yays="yay -Slq | \
    fzf \
      --multi \
      --preview 'yay -Sii {1}' \
      --preview-label='alt-j/k: scroll; alt-b/B: toggle PKGBUILD' \
      --preview-label-pos='bottom' \
      --preview-window 'down:65%:wrap' \
      --bind 'alt-j:preview-down,alt-k:preview-up,alt-p:toggle-preview' \
      --bind 'alt-b:change-preview:yay -Gpa {1} | tail -n +5' \
      --bind 'alt-B:change-preview:yay -Sii {1}' \
      --color 'pointer:green,marker:green' \
    | \
    xargs -ro yay -Sy"

alias yayq="yay -Qq | \
    fzf \
      --multi \
      --preview 'yay -Qq --info {1}' \
      --preview-label='alt-j/k: scroll' \
      --preview-label-pos='bottom' \
      --preview-window 'down:65%:wrap' \
      --bind 'alt-j:preview-down,alt-k:preview-up' \
      --color 'pointer:blue,marker:blue' \
    "

alias yayr="yay -Qqe | \
    fzf \
      --multi \
      --preview 'yay -Qi {1}' \
      --preview-label='alt-j/k: scroll; tab: multi-select' \
      --preview-window 'down:65%:wrap' \
      --preview-label-pos='bottom' \
      --bind 'alt-j:preview-down,alt-k:preview-up' \
      --color 'pointer:red,marker:red' \
    | \
    xargs -ro yay -Rns"

alias open="xdg-open"


# mk and cd
mkcd () {
  \mkdir -p "$1"
  cd "$1"
}

# temp dir
tempe () {
  cd "$(mktemp -d)"
  chmod -R 0700 .
  if [[ $# -eq 1 ]]; then
    \mkdir -p "$1"
    cd "$1"
    chmod -R 0700 .
  fi
}



# -----------
# THIRD-PARTY
# -----------

alias fetch="fastfetch"
alias onefetch="onefetch --no-title --email --no-color-palette --nerd-fonts"
alias trash="trash-put"
alias lg="lazygit"
alias clx="clx -n"
alias fuckjs="rm -rf node_modules && bun i"


# gcl
if alias gcl > /dev/null 2>&1; then
    unalias gcl
fi

gcl() {
    git clone $1 --recurse-submodules && \
    cd $( \
        echo $1 | \
        awk -F/ '/.git$/{print substr($NF, 0, length($NF) - 4)} !/.git$/{print $NF}' \
    )
}
